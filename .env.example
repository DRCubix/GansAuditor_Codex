# GansAuditor Codex Environment Configuration Example
# Copy this file to .env and customize the values for your deployment

# ============================================================================
# Core Synchronous Mode Settings
# ============================================================================

# Enable GAN auditing functionality (required for synchronous mode)
ENABLE_GAN_AUDITING=true

# Enable synchronous audit workflow mode
ENABLE_SYNCHRONOUS_AUDIT=false

# ============================================================================
# Completion Criteria Configuration
# ============================================================================

# Tier 1: High quality completion (95% score at 10 loops)
SYNC_AUDIT_TIER1_SCORE=95
SYNC_AUDIT_TIER1_LOOPS=10

# Tier 2: Good quality completion (90% score at 15 loops)
SYNC_AUDIT_TIER2_SCORE=90
SYNC_AUDIT_TIER2_LOOPS=15

# Tier 3: Acceptable quality completion (85% score at 20 loops)
SYNC_AUDIT_TIER3_SCORE=85
SYNC_AUDIT_TIER3_LOOPS=20

# Hard stop: Maximum loops before forced termination
SYNC_AUDIT_HARD_STOP_LOOPS=25

# ============================================================================
# Stagnation Detection Configuration
# ============================================================================

# Loop number to start stagnation detection
SYNC_AUDIT_STAGNATION_START_LOOP=10

# Similarity threshold for stagnation detection (0.0-1.0)
SYNC_AUDIT_STAGNATION_THRESHOLD=0.95

# Enable stagnation detection
ENABLE_STAGNATION_DETECTION=true

# ============================================================================
# Timeout Configuration
# ============================================================================

# Timeout for audit operations in seconds
AUDIT_TIMEOUT_SECONDS=30

# Interval for progress indicators in milliseconds
AUDIT_PROGRESS_INDICATOR_INTERVAL=5000

# Whether to show progress indicators during audits
ENABLE_AUDIT_PROGRESS_INDICATORS=true

# Number of retry attempts on audit timeout
AUDIT_TIMEOUT_RETRY_ATTEMPTS=1

# Whether to return partial results on timeout
AUDIT_PARTIAL_RESULTS_ON_TIMEOUT=true

# ============================================================================
# Concurrency Configuration
# ============================================================================

# Maximum number of concurrent audit operations
MAX_CONCURRENT_AUDITS=5

# Maximum number of concurrent sessions
MAX_CONCURRENT_SESSIONS=50

# Timeout for queued operations in milliseconds
AUDIT_QUEUE_TIMEOUT=60000

# Whether to enable audit operation queuing
ENABLE_AUDIT_QUEUE=true

# ============================================================================
# Session Management Configuration
# ============================================================================

# Interval for session cleanup in milliseconds (1 hour)
SESSION_CLEANUP_INTERVAL=3600000

# Maximum age for sessions in milliseconds (24 hours)
MAX_SESSION_AGE=86400000

# Directory for storing session state files
SYNC_AUDIT_STATE_DIRECTORY=.mcp-gan-state

# Whether to enable session state persistence
ENABLE_SESSION_PERSISTENCE=true

# ============================================================================
# Feature Flags
# ============================================================================

# Whether to enable Codex context window management
ENABLE_CODEX_CONTEXT_MANAGEMENT=true

# Whether to enable audit result caching
ENABLE_AUDIT_CACHING=true

# Level of detail for audit feedback (basic|detailed|verbose)
SYNC_AUDIT_FEEDBACK_DETAIL_LEVEL=detailed

# ============================================================================
# Monitoring and Observability
# ============================================================================

# Whether to enable performance metrics collection
ENABLE_SYNC_AUDIT_METRICS=false

# Whether to enable health check endpoints
ENABLE_SYNC_AUDIT_HEALTH_CHECKS=false

# ============================================================================
# Legacy Compatibility
# ============================================================================

# Whether to disable thought logging to console
DISABLE_THOUGHT_LOGGING=false

# ============================================================================
# System Prompt Configuration
# ============================================================================

# Enable system prompt functionality
GAN_AUDITOR_PROMPT_ENABLED=true

# System prompt version
GAN_AUDITOR_PROMPT_VERSION=2.0.0

# Path to system prompt configuration file (optional)
# GAN_AUDITOR_PROMPT_CONFIG_FILE=config/system-prompt.json

# Identity configuration
GAN_AUDITOR_IDENTITY_NAME=Kilo Code
GAN_AUDITOR_IDENTITY_ROLE=Adversarial Auditor
GAN_AUDITOR_STANCE=constructive-adversarial
GAN_AUDITOR_AUTHORITY=spec-and-steering-ground-truth

# Workflow configuration
GAN_AUDITOR_WORKFLOW_STEPS=8
GAN_AUDITOR_ENFORCE_WORKFLOW_ORDER=true
GAN_AUDITOR_ALLOW_WORKFLOW_SKIPPING=false
GAN_AUDITOR_EVIDENCE_REQUIRED=true

# Quality framework configuration
GAN_AUDITOR_QUALITY_DIMENSIONS=6
GAN_AUDITOR_WEIGHTING_SCHEME=project-standard
GAN_AUDITOR_SCORING_SCALE=0-100
GAN_AUDITOR_AGGREGATION_METHOD=weighted-average

# Completion criteria configuration
GAN_AUDITOR_COMPLETION_TIERS=3
GAN_AUDITOR_KILL_SWITCHES=3
GAN_AUDITOR_SHIP_GATES=5

# Integration configuration
GAN_AUDITOR_SESSION_MANAGEMENT=true
GAN_AUDITOR_CODEX_INTEGRATION=true
GAN_AUDITOR_CONTEXT_AWARENESS=true
GAN_AUDITOR_PERFORMANCE_OPTIMIZATION=true

# Security configuration
GAN_AUDITOR_SANITIZE_PII=true
GAN_AUDITOR_VALIDATE_COMMANDS=true
GAN_AUDITOR_RESPECT_PERMISSIONS=true
GAN_AUDITOR_FLAG_VULNERABILITIES=true

# Performance configuration
GAN_AUDITOR_CONTEXT_TOKEN_LIMIT=200000
GAN_AUDITOR_AUDIT_TIMEOUT_MS=30000
GAN_AUDITOR_ENABLE_CACHING=true
GAN_AUDITOR_ENABLE_PROGRESS_TRACKING=true

# ============================================================================
# Codex CLI Configuration
# ============================================================================

# Codex executable path (required for production)
CODEX_EXECUTABLE=codex

# Search paths for Codex CLI executable (comma-separated)
CODEX_EXECUTABLE_PATHS=/usr/local/bin/codex,/usr/bin/codex,codex

# Process management settings
CODEX_TIMEOUT=30000
CODEX_MAX_CONCURRENT_PROCESSES=5
CODEX_PROCESS_CLEANUP_TIMEOUT=5000

# Environment variable handling (comma-separated list)
CODEX_PRESERVE_ENV_VARS=PATH,HOME,USER,SHELL,LANG,LC_ALL

# Additional environment variables (JSON format)
CODEX_ADDITIONAL_ENV_VARS={}

# Error handling (no fallbacks in production)
CODEX_MAX_RETRIES=1
CODEX_RETRY_DELAY=1000
CODEX_FAIL_FAST=true

# Monitoring and health checks
CODEX_HEALTH_CHECK_INTERVAL=30000
CODEX_PERFORMANCE_METRICS_ENABLED=true

# Production validation requirements (must be true for production)
CODEX_REQUIRE_AVAILABLE=true
CODEX_VALIDATE_ON_STARTUP=true
CODEX_ALLOW_MOCK_FALLBACK=false

# ============================================================================
# Development/Debug Settings
# ============================================================================

# Enable verbose logging for debugging (not recommended for production)
# DEBUG_SYNCHRONOUS_WORKFLOW=false

# Enable detailed session state logging
# DEBUG_SESSION_MANAGEMENT=false

# Enable audit performance logging
# DEBUG_AUDIT_PERFORMANCE=false

# Enable Codex integration debugging
# DEBUG_CODEX_INTEGRATION=false